<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" type="image/png" href="images/requests.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Friend Finder</title>

    <!--Bootstrap CDN for Modal-->
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous"> -->

    <!--Skeleton CSS Framework-->
    <link rel="stylesheet" type="text/css" href="skeleton_css/skeleton.css">
    <link rel="stylesheet" type="text/css" href="skeleton_css/normalize.css">
    
    <!--Local CSS-->
    <link rel="stylesheet" type="text/css" href="survey_style.css">

    <!--Google Font-->
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC:700|Josefin+Sans" rel="stylesheet">

    <!--jQuery CDN-->
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
        crossorigin="anonymous"></script>
    <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script> -->

<!--jQuery Modal CDN-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />

</head>

<body>

    <div class="container">
        <div id="header" class="row">
            <div class="twelve columns">
                <h1>Are you a Goonie?</h1>
            </div>
        </div>

        <!--Survey Form-->
        <form>
            <div id="name_link_row" class="row">
                <div class="twelve columns">

                    <label for="name">What's Your Name?</label>
                    <input class="u-full-width" type="text" placeholder="Enter Your Name Here" id="survey_name">
                    <span>
                        <label for="image">Please Provide a link to an image, gif, or drawing that represents yourself.</label>
                        <input class="u-full-width" type="text" placeholder="Image Link Here" id="survey_photo">
                    </span>

                </div>
            </div>

            <br>

            <div class="row">
                <div id="left_column" class="six columns">
                    <label for="sq1">Loyalty is the most important trait for friends.</label>
                    <select class="u-half-width" id="sq1">
                        <option value="1">1 Strongly Disagree</option>
                        <option value="2">2 Slightly Disagree</option>
                        <option value="3">3 Neutral</option>
                        <option value="4">4 Mostly Disagree</option>
                        <option value="5">5 Strongly Agree</option>
                    </select>

                    <label for="sq2">Spulunking is my favorite past time.</label>
                    <select class="u-half-width" id="sq2">
                        <option value="1">1 Strongly Disagree</option>
                        <option value="2">2 Slightly Disagree</option>
                        <option value="3">3 Neutral</option>
                        <option value="4">4 Mostly Disagree</option>
                        <option value="5">5 Strongly Agree</option>
                    </select>

                    <label for="sq3">Danger is my middle name!</label>
                    <select class="u-half-width" id="sq3">
                        <option value="1">1 Strongly Disagree</option>
                        <option value="2">2 Slightly Disagree</option>
                        <option value="3">3 Neutral</option>
                        <option value="4">4 Mostly Disagree</option>
                        <option value="5">5 Strongly Agree</option>
                    </select>

                    <label for="sq4">Buried treasure is worth any risk.</label>
                    <select class="u-half-width" id="sq4">
                        <option value="1">1 Strongly Disagree</option>
                        <option value="2">2 Slightly Disagree</option>
                        <option value="3">3 Neutral</option>
                        <option value="4">4 Mostly Disagree</option>
                        <option value="5">5 Strongly Agree</option>
                    </select>

                    <label for="sq5">I enjoy "walking the plank."</label>
                    <select class="u-half-width" id="sq5">
                        <option value="1">1 Strongly Disagree</option>
                        <option value="2">2 Slightly Disagree</option>
                        <option value="3">3 Neutral</option>
                        <option value="4">4 Mostly Disagree</option>
                        <option value="5">5 Strongly Agree</option>
                    </select>
                </div>

                <div id="right_column" class="six columns">
                    <label for="sq6">I have momma issues.</label>
                    <select class="u-half-width" id="sq6">
                        <option value="1">1 Strongly Disagree</option>
                        <option value="2">2 Slightly Disagree</option>
                        <option value="3">3 Neutral</option>
                        <option value="4">4 Mostly Disagree</option>
                        <option value="5">5 Strongly Agree</option>
                    </select>

                    <label for="sq7">My brother is not my best friend.</label>
                    <select class="u-half-width" id="sq7">
                        <option value="1">1 Strongly Disagree</option>
                        <option value="2">2 Slightly Disagree</option>
                        <option value="3">3 Neutral</option>
                        <option value="4">4 Mostly Disagree</option>
                        <option value="5">5 Strongly Agree</option>
                    </select>

                    <label for="sq8">"Booty Traps" = "Booby Traps"</label>
                    <select class="u-half-width" id="sq8">
                        <option value="1">1 Strongly Disagree</option>
                        <option value="2">2 Slightly Disagree</option>
                        <option value="3">3 Neutral</option>
                        <option value="4">4 Mostly Disagree</option>
                        <option value="5">5 Strongly Agree</option>
                    </select>

                    <label for="sq9">Protecting my treasure is top priority.</label>
                    <select class="u-half-width" id="sq9">
                        <option value="1">1 Strongly Disagree</option>
                        <option value="2">2 Slightly Disagree</option>
                        <option value="3">3 Neutral</option>
                        <option value="4">4 Mostly Disagree</option>
                        <option value="5">5 Strongly Agree</option>
                    </select>

                    <label for="sq10">I always have snacks in my hand.</label>
                    <select class="u-half-width" id="sq10">
                        <option value="1">1 Strongly Disagree</option>
                        <option value="2">2 Slightly Disagree</option>
                        <option value="3">3 Neutral</option>
                        <option value="4">4 Mostly Disagree</option>
                        <option value="5">5 Strongly Agree</option>
                    </select>
                </div>
            </div>

            <div id="submit_button" class="row">
                <div class="twelve columns">
                    <input id="submitButton" class="button" type="submit" value="" title="Submit Survey">
                </div>
            </div>
        </form>
    </div>

    <!-- Modal for Match-->
<div id="matchModal" class="modal" role="dialog">

        <div class="modal-content">
            <div class="modal-header">
                <!-- <span class="close">&times;</span> -->
                <h1 id="header-title">Best Goonie Match</h1>
            </div>
            <div class="modal-body">
                <h3 id="match_name"></h3>
                <img id="match_photo" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/6/005/064/1bd/3435aa3.jpg"
                    alt="Match Photo">
            </div>
        </div>

    </div>

    <!-- Form Data Sent to Server-->
    <script type="text/javascript">
        $(document).ready(function () {

            $("#submitButton").on("click", function (event) {
                event.preventDefault();
                // console.log("CLICK!");

                //Collect Inputs from Survey
                var newSurvey = {
                    name: $("#survey_name").val().trim(),
                    photo: $("#survey_photo").val().trim(),
                    scores: [$("#sq1").val(),
                        $("#sq2").val(),
                        $("#sq3").val(),
                        $("#sq4").val(),
                        $("#sq5").val(),
                        $("#sq6").val(),
                        $("#sq7").val(),
                        $("#sq8").val(),
                        $("#sq9").val(),
                        $("#sq10").val()
                    ]
                };

                // console.log(newSurvey);

                $.post("/api/friends", newSurvey, function (data) {
                    $("#match_name").text(data.name);
                    $("#match_photo").attr("src", data.photo);
                    $("#matchModal").modal("toggle");

                });
            });
        });
    </script>

</body>

</html>